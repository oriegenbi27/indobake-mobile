{"version":3,"sources":["webpack:///./src/components/Scan.vue?519a","webpack:///./src/components/Scan.vue?806d","webpack:///src/components/Scan.vue","webpack:///./src/components/Scan.vue?348b","webpack:///./src/components/Scan.vue?73a2","webpack:///./src/assets/qr-scanner.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","$store","state","staticStyle","Aurhenticated","user","role","attrs","_v","_s","toLowerCase","PoinQuantity","_e","parseInt","poin","on","$NumberOnly","$event","InitMyQr","model","callback","$$v","style","backgroundImage","type","indexOf","_k","keyCode","key","Aurhenticate","AurhenticatedPassword","AurhenticatedLoading","preventDefault","$router","go","staticRenderFns","props","show","Boolean","default","data","watch","$route","immediate","handler","to","hash","$BarcodeScanner","prepare","from","tab","stopScan","v","startScan","methods","commit","dispatch","IntervalPoint","clearInterval","setInterval","setTimeout","canvas","document","getElementById","content","width","image","nodeQrCodeOptions","color","dark","logo","src","logoRadius","logoSize","borderColor","qrcode","toCanvas","then","CheckPointUpdate","didUserGrantPermission","res","b","showBackground","body","classList","remove","component","module","exports"],"mappings":"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","file":"js/scan.0004f3e6.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scan.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"dialog-scan white\"},[_c('div',{staticClass:\"scan-area\"},[(_vm.$store.state.user)?_c('div',{staticClass:\"fill-height pb-16\",staticStyle:{\"overflow-y\":\"auto\"}},[(!_vm.Aurhenticated && _vm.$store.state.user.role === 'user')?_c('div',{staticClass:\"pt-16 d-flex f-width flex-column align-center justify-center px-8 pt-8 pb-4 bg-main\"},[_c('v-text-field',{staticClass:\"mb-4 accent d-flex justify-center text-h6 rounded-lg\",attrs:{\"label\":\"Password\",\"type\":\"password\",\"hide-details\":\"\",\"outlined\":\"\",\"color\":\"primary\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.Aurhenticate()}},model:{value:(_vm.AurhenticatedPassword),callback:function ($$v) {_vm.AurhenticatedPassword=$$v},expression:\"AurhenticatedPassword\"}}),_c('v-btn',{staticClass:\"rounded-pill text-capitalize\",attrs:{\"disabled\":_vm.AurhenticatedLoading,\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.Aurhenticate()}}},[_vm._v(\" Show Qr Code \")])],1):(_vm.$store.state.user.role === 'user')?_c('v-card',{staticClass:\"d-flex f-width flex-column align-center justify-center px-8 pt-8 pb-4 bg-main\",attrs:{\"flat\":\"\"}},[_c('div',{staticClass:\"font-weight-bold pt-4 pb-1 text-h5\",staticStyle:{\"font-size\":\"1.2rem\"}},[_vm._v(\" \"+_vm._s(_vm.$store.state.user.name)+\" \")]),_c('div',{staticClass:\"text-center grey--text text--darken-1 text-truncate\",staticStyle:{\"font-size\":\"1.2rem\"}},[_vm._v(\" \"+_vm._s((_vm.$store.state.user.email).toLowerCase())),_c('br'),_vm._v(\" \"+_vm._s((_vm.$store.state.user.phone).toLowerCase())+\" \")]),_c('div',{staticClass:\"d-flex fill-width align-center justify-center mt-2 mb-2 p-relative\",staticStyle:{\"height\":\"275px\"}},[_c('canvas',{attrs:{\"id\":\"canvas\"}}),(_vm.PoinQuantity < 1)?_c('span',{staticClass:\"text-center d-flex align-center justify-center px-16 text-h5\",staticStyle:{\"position\":\"absolute\",\"top\":\"0px\",\"left\":\"0px\",\"width\":\"100%\",\"height\":\"100%\",\"background\":\"rgba(255, 255, 255, .97)\"}},[_vm._v(\" Please set point quantity \")]):_vm._e()]),_c('div',{staticClass:\"d-flex fill-width align-center justify-center text-h5 font-weight-bold pt-2\"},[_c('img',{staticClass:\"d-flex mr-2\",staticStyle:{\"height\":\"26px\"},attrs:{\"src\":\"/logo-h-bake.png\"}}),_vm._v(\" Poin : \"+_vm._s(parseInt(_vm.$store.state.user.poin))+\" \")]),_c('div',{staticClass:\"d-flex flex-column fill-width justify-center align-center py-8 px-16\"},[_c('div',{staticClass:\"mb-2\"},[_vm._v(\" Gunakan : \")]),_c('v-text-field',{staticClass:\"accent d-flex justify-center text-h6 rounded-pill centered-input\",attrs:{\"suffix\":\"Poin\",\"solo\":\"\",\"hide-details\":\"\",\"color\":\"primary\"},on:{\"keypress\":_vm.$NumberOnly,\"keyup\":function($event){(parseInt(_vm.PoinQuantity) ? (_vm.PoinQuantity = parseInt(_vm.PoinQuantity)) : _vm.PoinQuantity = 0), _vm.InitMyQr()}},model:{value:(_vm.PoinQuantity),callback:function ($$v) {_vm.PoinQuantity=$$v},expression:\"PoinQuantity\"}})],1)]):_c('v-card',{staticClass:\"fill-height d-flex align-center justify-center transparent scanner-frame\",attrs:{\"flat\":\"\"}},[_c('div',{staticClass:\"transparent bg-cover d-flex fill-width fill-height\",style:({ backgroundImage: 'url(' + require('@/assets/qr-scanner.png') + ')' })})])],1):_vm._e(),_c('div',{staticStyle:{\"position\":\"fixed\",\"bottom\":\"40px\",\"left\":\"0px\",\"width\":\"100%\",\"text-align\":\"center\"}},[_c('v-chip',{staticClass:\"px-6\",attrs:{\"color\":\"red\",\"dark\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$router.go(-1)}}},[_vm._v(\" Close \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-show=\"show\"\n    class=\"dialog-scan white\"\n  >\n    <div class=\"scan-area\">\n      <div v-if=\"$store.state.user\" class=\"fill-height pb-16\" style=\"overflow-y: auto;\">\n        <div v-if=\"!Aurhenticated && $store.state.user.role === 'user'\" class=\"pt-16 d-flex f-width flex-column align-center justify-center px-8 pt-8 pb-4 bg-main\">\n          <v-text-field\n            v-model=\"AurhenticatedPassword\"\n            label=\"Password\"\n            type=\"password\"\n            hide-details\n            outlined\n            color=\"primary\"\n            class=\"mb-4 accent d-flex justify-center text-h6 rounded-lg\"\n            @keypress.enter=\"Aurhenticate()\"\n          />\n          <v-btn :disabled=\"AurhenticatedLoading\" color=\"primary\" class=\"rounded-pill text-capitalize\" dark @click.prevent=\"Aurhenticate()\">\n            Show Qr Code\n          </v-btn>\n        </div>\n        <v-card v-else-if=\"$store.state.user.role === 'user'\" flat class=\"d-flex f-width flex-column align-center justify-center px-8 pt-8 pb-4 bg-main\">\n          <div class=\"font-weight-bold pt-4 pb-1 text-h5\" style=\"font-size: 1.2rem;\">\n            {{ $store.state.user.name }}\n          </div>\n          <div class=\"text-center grey--text text--darken-1 text-truncate\" style=\"font-size: 1.2rem;\">\n            {{ ($store.state.user.email).toLowerCase() }}<br>\n            {{ ($store.state.user.phone).toLowerCase() }}\n          </div>\n          <div class=\"d-flex fill-width align-center justify-center mt-2 mb-2 p-relative\" style=\"height:275px;\">\n            <canvas id=\"canvas\" />\n            <span v-if=\"PoinQuantity < 1\" class=\"text-center d-flex align-center justify-center px-16 text-h5\" style=\"position:absolute;top:0px;left:0px;width:100%;height:100%;background:rgba(255, 255, 255, .97);\">\n              Please set point quantity\n            </span>\n          </div>\n          <!-- <div class=\"d-flex fill-width justify-center px-4 pt-0 pb-0\">\n            <img src=\"/logo-h.png\" style=\"height: 20px;\">\n          </div> -->\n          <div class=\"d-flex fill-width align-center justify-center text-h5 font-weight-bold pt-2\">\n            <img src=\"/logo-h-bake.png\" class=\"d-flex mr-2\" style=\"height:26px;\"> Poin : {{ parseInt($store.state.user.poin) }}\n          </div>\n          <div class=\"d-flex flex-column fill-width justify-center align-center py-8 px-16\">\n            <div class=\"mb-2\">\n              Gunakan :\n            </div>\n            <v-text-field\n              v-model=\"PoinQuantity\"\n              suffix=\"Poin\"\n              solo\n              hide-details\n              color=\"primary\"\n              class=\"accent d-flex justify-center text-h6 rounded-pill centered-input\"\n              @keypress=\"$NumberOnly\"\n              @keyup=\"(parseInt(PoinQuantity) ? (PoinQuantity = parseInt(PoinQuantity)) : PoinQuantity = 0), InitMyQr()\"\n            />\n          </div>\n        </v-card>\n        <v-card v-else flat class=\"fill-height d-flex align-center justify-center transparent scanner-frame\">\n          <div class=\"transparent bg-cover d-flex fill-width fill-height\" :style=\"{ backgroundImage: 'url(' + require('@/assets/qr-scanner.png') + ')' }\" />\n        </v-card>\n      </div>\n      <div style=\"position:fixed;bottom:40px;left:0px;width:100%;text-align:center;\">\n        <v-chip color=\"red\" dark class=\"px-6\" @click.prevent=\"$router.go(-1)\">\n          Close\n        </v-chip>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nlet IntervalPoint = null\nexport default {\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: vm => ({\n    Aurhenticated: false,\n    AurhenticatedLoading: false,\n    AurhenticatedPassword: '',\n    PoinQuantity: 0\n  }),\n  watch: {\n    $route: {\n      immediate: true,\n      handler (to, from) {\n        this.PoinQuantity = 0\n        if (to) {\n          if (to.hash === '#show-scan' && this.$store.state.user.role === 'mitra') {\n            if (process.env.NODE_ENV !== 'development') {\n              this.$BarcodeScanner().prepare()\n            }\n          }\n        }\n        if (from) {\n          if (from.hash === '#show-scan') {\n            this.tab = 0\n            if (process.env.NODE_ENV !== 'development') {\n              this.stopScan()\n            }\n          }\n        }\n      }\n    },\n    show (v) {\n      this.Aurhenticated = false\n      this.AurhenticatedLoading = false\n      this.AurhenticatedPassword = ''\n      if (v) {\n        if (this.$store.state.user) {\n          if (this.$store.state.user.role === 'mitra') {\n            if (process.env.NODE_ENV !== 'development') {\n              this.startScan()\n            }\n          } else {\n            if (process.env.NODE_ENV !== 'development') {\n              this.stopScan()\n            }\n          }\n        }\n      } else {\n        this.stopScan()\n      }\n    }\n  },\n  methods: {\n    Aurhenticate () {\n      this.AurhenticatedLoading = true\n      if (!this.AurhenticatedPassword) {\n        this.$store.commit('SNACKBAR', { show: true, text: 'Please input password!' })\n        return false\n      }\n      this.$store.dispatch('PASSWORD_AUTH', { pwd: this.AurhenticatedPassword })\n        .then((res) => {\n          if (res) {\n            if (res.status) {\n              if (res.data.data) {\n                this.InitMyQr()\n                this.Aurhenticated = true\n              } else {\n                this.$store.commit('SNACKBAR', { show: true, text: 'Ops, invalid password!' })\n              }\n            } else {\n              this.$store.commit('SNACKBAR', { show: true, text: 'Ops, something went wrong!' })\n            }\n          } else {\n            this.$store.commit('SNACKBAR', { show: true, text: 'Something went wrong!' })\n          }\n          this.AurhenticatedLoading = false\n        })\n    },\n    InitMyQr () {\n      if (parseInt(this.PoinQuantity) > parseInt(this.$store.state.user.poin)) {\n        this.PoinQuantity = parseInt(this.$store.state.user.poin) || 0\n      }\n      if (!parseInt(this.PoinQuantity)) {\n        this.PoinQuantity = 0\n      }\n      if (this.PoinQuantity) {\n        if (IntervalPoint) {\n          clearInterval(IntervalPoint)\n        }\n        IntervalPoint = setInterval(() => {\n          this.CheckPointUpdate()\n        }, 2000)\n      }\n      setTimeout(() => {\n        const qrcode = this.$QrCodeWithLogo({\n          canvas: document.getElementById('canvas'),\n          content: this.$store.state.user.id + ':' + this.PoinQuantity,\n          width: 275,\n          image: document.getElementById('image'),\n          nodeQrCodeOptions: {\n            color: {\n              dark: '#000'\n            }\n          },\n          logo: {\n            src: '/icon.png',\n            logoRadius: 20,\n            logoSize: 0.15,\n            borderColor: '#fff'\n          }\n        })\n        qrcode.toCanvas().then(() => {\n        })\n      }, 300)\n    },\n    CheckPointUpdate () {\n      this.$store.dispatch('CHECK_POIN')\n        .then((res) => {\n          if (res.status) {\n            const updatedPoin = parseInt(res.data.data) || -1\n            if (updatedPoin !== -1 && (updatedPoin !== parseInt(this.$store.state.user.poin))) {\n              const decreasedPoint = parseInt(this.$store.state.user.poin) - updatedPoin\n              this.$store.commit('SNACKBAR', { show: true, text: (decreasedPoint + ' points successfully used!') })\n              this.$router.go(-1)\n            } else {\n              // console.log('no update!')\n            }\n          }\n        })\n    },\n    startScan () {\n      this.didUserGrantPermission().then((res) => {\n        if (res) {\n          this.startScanOpen()\n        } else {\n          this.tab = 0\n        }\n      })\n    },\n    async startScanOpen () {\n      this.$BarcodeScanner().hideBackground()\n      document.body.classList.add('qr-scanner-show')\n      const result = await this.$BarcodeScanner().startScan({ targetedFormats: ['QR_CODE'] })\n      if (result.hasContent) {\n        this.$router.replace('#indobake:' + result.content)\n      }\n    },\n    stopScan () {\n      if (IntervalPoint) {\n        clearInterval(IntervalPoint)\n      }\n      this.$store.dispatch('ME')\n      const b = this.$BarcodeScanner()\n      if (b) {\n        b.showBackground()\n        b.stopScan()\n      }\n      document.body.classList.remove('qr-scanner-show')\n    },\n    async didUserGrantPermission () {\n      const status = await this.$BarcodeScanner().checkPermission({ force: false })\n      if (status.granted) {\n        // user granted permission\n        return true\n      }\n      if (status.denied) {\n        // the user denied permission for good\n        // redirect user to app settings if they want to grant it anyway\n        const c = await this.$Confirm('Need camera permission!', 'Camera permission denied, enable it in the App Settings ?', {\n          ok: 'Open',\n          cancel: 'Deny'\n        })\n        if (c) {\n          this.$BarcodeScanner().openAppSettings()\n        }\n      }\n      if (status.asked) {\n        // system requested the user for permission during this call\n        // only possible when force set to true\n      }\n      if (status.neverAsked) {\n        // // user has not been requested this permission before\n        // // it is advised to show the user some sort of prompt\n        // // this way you will not waste your only chance to ask for the permission\n        // const c = await this.$Confirm('Camera permission :', 'We need camera permission to scan qrcode!', {\n        //   ok: 'Open',\n        //   cancel: 'Deny'\n        // })\n        // if (!c) {\n        //   return false\n        // }\n      }\n      if (status.restricted || status.unknown) {\n        // ios only\n        // probably means the permission has been denied\n        return false\n      }\n      // user has not denied permission\n      // but the user also has not yet granted the permission\n      // so request it\n      const statusRequest = await this.$BarcodeScanner().checkPermission({ force: true })\n      if (statusRequest.asked) {\n        // system requested the user for permission during this call\n        // only possible when force set to true\n      }\n      if (statusRequest.granted) {\n        // the user did grant the permission now\n        return true\n      }\n      // user did not grant the permission, so he must have declined the request\n      return false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.span-title {\n  border-radius: 30px;\n  padding: 7px 20px;\n  box-shadow: inset 1px 1px 10px rgba(14, 48, 71, .1);\n}\n.dialog-scan {\n  position: fixed;\n  // height: 0px;\n  width: 100%;\n  opacity: 0;\n  // transition: all .15s ease;\n  top: 0px;\n  left: 0px;\n  z-index: 3;\n  height: 100%;\n  opacity: 1;\n  top: unset;\n  overflow: hidden;\n  z-index: 100;\n  .v-dialog--fullscreen {\n    position: relative;\n  }\n  &::before {\n    display: none!important;\n    content: \"\";\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, .7);\n    z-index: -1;\n    opacity: 0;\n    transition: all .5s ease;\n    visibility: hidden;\n  }\n  .scan-area {\n    height: 100%;\n    >.tab-area {\n      height: calc(100% - 47px)!important;\n      .v-window__container {\n        height: 100%!important;\n        canvas {\n          // border: solid 4px #eb660e!important;\n          padding: 7px!important;\n          padding: 2px;\n          border-radius: 20px!important;\n        }\n      }\n    }\n  }\n}\n.v-text-field {\n  &.centered-input {\n    &.v-text-field--prefix {\n      input {\n        text-align:center!important;\n        font-weight:bold;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scan.vue?vue&type=template&id=2d95cdd0&\"\nimport script from \"./Scan.vue?vue&type=script&lang=js&\"\nexport * from \"./Scan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scan.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/qr-scanner.29221226.png\";"],"sourceRoot":""}