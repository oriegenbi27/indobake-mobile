(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["file-list"],{"504e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{"no-gutters":""}},[t.files.length?t._e():i("v-col",{staticClass:"py-10 px-4 text-center",attrs:{cols:"12"}},[t._v(" No data! ")]),i("v-col",{staticClass:"d-flex child-flex",attrs:{cols:"12"}},[i("v-list",t._l(t.files,(function(e,a){return i("v-list-item",{key:"file-list-"+a,attrs:{ripple:t.isFolder(e.mimeType)},on:{click:function(i){i.preventDefault(),t.isFolder(e.mimeType)&&t.GOTO(e)}}},[i("v-list-item-avatar",[i("v-icon",{attrs:{large:"",color:t.isFolder(e.mimeType)?"orange":t.fileIcon(e.iconLink).color}},[t._v(" "+t._s(t.isFolder(e.mimeType)?"mdi-folder":t.fileIcon(e.iconLink).icon)+" ")])],1),i("v-list-item-content",[i("v-list-item-title",{staticClass:"fill-width subtitle-2 font-weight-bold"},[i("div",{staticStyle:{"max-width":"100%","white-space":"initial","word-wrap":"break-word"}},[t._v(" "+t._s(e.name)+" ")])]),i("v-list-item-subtitle",{staticClass:"fill-width caption "},[t._v(" Modified "),i("small",[t._v("at")]),t._v(" "+t._s(t.$localDT(e.modifiedTime,"datetimelocal"))+" ")])],1),i("v-list-item-icon",[t.isFolder(e.mimeType)?i("v-icon",{attrs:{color:"grey"}},[t._v(" mdi-chevron-right ")]):e.shared?i("v-menu",{attrs:{transition:"slide-y-transition",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",small:""}},"v-btn",o,!1),a),[i("v-icon",{attrs:{color:"grey"}},[t._v(" mdi-dots-vertical ")])],1)]}}],null,!0)},[i("v-list",[i("v-list-item",{on:{click:function(i){return i.preventDefault(),t.$OpenBrowser(e.webViewLink||e.webContentLink)}}},[i("v-list-item-title",{staticClass:"body-2"},[i("v-icon",{staticClass:"mr-1"},[t._v(" mdi-eye ")]),t._v(" View in Browser ")],1)],1)],1)],1):i("v-icon",{attrs:{color:"grey"}},[t._v(" mdi-lock-outline ")])],1)],1)})),1)],1),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog.show,callback:function(e){t.$set(t.dialog,"show",e)},expression:"dialog.show"}},[t.dialog.data.active?i("v-card",{staticClass:"rounded-0"},[i("v-toolbar",{staticClass:"elevation-1",attrs:{dark:"",color:"orange"}},[i("v-icon",{staticClass:"ml-2 mr-5",attrs:{dark:""}},[t._v(" mdi-folder ")]),i("v-toolbar-title",[t._v(" "+t._s(t.dialog.data.active.name)+" ")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.$router.go(-1)}}},[i("v-icon",[t._v("mdi-close")])],1)],1)],1),t.dialog.loading?i("div",{staticClass:"py-10 px-2 fill-width d-flex align-center justify-center"},[i("v-progress-circular",{attrs:{size:50,width:5,color:"purple",indeterminate:""}})],1):t.dialog.data.files?i("div",[t.dialog.data.files.length?i("div",[i("FileList",{attrs:{files:t.dialog.data.files}})],1):i("div",{staticClass:"py-10 px-4 text-center"},[t._v(" No data! ")])]):i("div",{staticClass:"py-10 px-4 text-center"},[t._v(" something went wrong! ")])],1):t._e()],1)],1)},o=[],l=(i("ac1f"),i("1276"),i("466d"),i("b0c0"),{props:{files:{type:Array,default:function(){return[]}}},data:function(){return{dialog:{show:!1,loading:!0,data:{active:null,files:null}}}},watch:{$route:{immediate:!0,handler:function(t,e){var i=t&&t.query.dest?t.query.dest.split("/").length:0,a=e&&e.query.dest?e.query.dest.split("/").length:0;if(i){var o=a?e.query.dest.split("/"):[];if(i>a);else if(a&&this.dialog.data.active){var l=o[a-1];l===this.dialog.data.active.id&&(this.dialog.show=!1)}else this.dialog.show=!1}else this.dialog.show=!1}}},methods:{GOTO:function(t){this.dialog.loading=!0,this.dialog.show=!0,this.dialog.data.active=Object.assign({},t),this.dialog.data.files=null,this.LOAD_FOLDER(this.dialog.data.active.id);var e=this.$route.query.dest;e?this.$router.push("?dest="+this.$route.query.dest+"/"+t.id):this.$router.push("?dest="+t.id)},LOAD_FOLDER:function(t){var e=this;this.$store.dispatch("LOAD_FILES_FOLDER",t).then((function(t){e.dialog.data.files=t||[],setTimeout((function(){e.dialog.loading=!1}),300)}))},DOWNLOAD:function(t){var e="";t.mimeType.match(/png/gi)?e=".png":t.mimeType.match(/jpg/gi)||t.mimeType.match(/jpeg/gi)?e=".jpg":t.mimeType.match(/gif/gi)?e=".gif":t.mimeType.match(/pdf/gi)&&(e=".pdf"),t.name?this.$store.dispatch("DOWNLOAD",{id:t.id,mimeType:t.mimeType,fileName:t.name?t.name.match(/\./)?t.name:t.name+e:t.name}).then((function(i){if(i.status)if(i.data.data.status){var a=document.createElement("a");a.href=i.data.data.data,a.target="_blank",a.download=t.name?t.name.match(/\./)?t.name:t.name+e:t.name,a.click()}else alert(i.data||"Something went wrong!");else alert("Something went wrong!")})):alert("Something went wrong!")},isFolder:function(t){return"application/vnd.google-apps.folder"===t},fileIcon:function(t){return t?t.match(/\/png/)||t.match(/\/gif/)||t.match(/\/jpg/)||t.match(/\/jpeg/)?{icon:"mdi-file-image",color:"teal darken-2"}:t.match(/\/pdf/)?{icon:"mdi-file-pdf-box",color:"red darken-3"}:t.match(/\/word/)||t.match(/\/doc/)||t.match(/\/docx/)||t.match(/\/msword/)||t.match(/wordprocessingml/)||t.match(/\/vnd\.google-apps\.document/)?{icon:"mdi-file-word-box",color:"indigo"}:t.match(/\/excel/)||t.match(/\/xls/)||t.match(/\/xlsx/)||t.match(/\/msexcel/)||t.match(/spreadsheet/)?{icon:"mdi-file-excel-box",color:"green darken-3"}:t.match(/\/powerpoint/)||t.match(/\/ppt/)||t.match(/\/pptx/)||t.match(/presentation/)?{icon:"mdi-file-powerpoint-box",color:"deep-orange darken-3"}:{icon:"mdi-file-alert-outline",color:"grey"}:"mdi-file"}}}),s=l,n=i("2877"),r=Object(n["a"])(s,a,o,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=file-list.3ceafcbd.js.map